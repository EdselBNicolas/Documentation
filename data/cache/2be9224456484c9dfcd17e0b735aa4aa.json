{"html":"<!-- TITLE: Push Notification --><!-- SUBTITLE: A quick summary of Push Notification --><html><head></head><body><p>This application uses OneSignal - &quot;a high volume and reliable push notification service for websites and mobile applications. It support all major native and mobile platforms by providing dedicated SDKs for each platform, a RESTful server API, and an online dashboard for marketers to design and send push notifications.&quot;<br>\n<a href=\"https://documentation.onesignal.com/docs\" class=\"external-link\">https://documentation.onesignal.com/docs</a></p>\n<h1 id=\"one-signal-set-up\"><a class=\"toc-anchor nc-icon-outline location_bookmark-add internal-link\" href=\"#one-signal-set-up\" aria-hidden=\"true\"></a> OneSignal SetUp</h1>\n<p><a href=\"https://docs.google.com/document/d/1IpwuFwIXSMX5BCT82n2P-WZB2L1J4UXeyLsokHE2TEY/edit\" class=\"external-link\">https://docs.google.com/document/d/1IpwuFwIXSMX5BCT82n2P-WZB2L1J4UXeyLsokHE2TEY/edit</a><br>\n<a href=\"https://medium.com/appseed-io/how-to-integrate-onesignal-push-notifications-into-an-ionic-3-application-eb2fdc3e6176\" class=\"external-link\">https://medium.com/appseed-io/how-to-integrate-onesignal-push-notifications-into-an-ionic-3-application-eb2fdc3e6176</a></p>\n<h2 id=\"generate-a-google-server-api-key-server-key\"><a class=\"toc-anchor nc-icon-outline location_bookmark-add internal-link\" href=\"#generate-a-google-server-api-key-server-key\" aria-hidden=\"true\"></a> Generate a Google Server API Key (SERVER KEY)</h2><div class=\"indent-h2\"><p>The application we are going to build, uses Firebase in order to generate a Google Server API Key. This key allows OneSignal to use Google&#x2019;s web push services for your notifications. Visit <a href=\"https://console.firebase.google.com/\" class=\"external-link\">https://console.firebase.google.com/</a> and create a new project.<br>\n<strong>Project ID: onesignal-test-7763c (email: vrferrer.halcyondigital)</strong><br>\n<img src=\"/uploads/push-notif/1.png\" alt=\"1\" title=\"1\"><br>\n<img src=\"/uploads/push-notif/2.png\" alt=\"2\" title=\"2\"></p><h3 id=\"get-your-firebase-cloud-messaging-token-and-sender-id\"><a class=\"toc-anchor nc-icon-outline location_bookmark-add internal-link\" href=\"#get-your-firebase-cloud-messaging-token-and-sender-id\" aria-hidden=\"true\"></a> Get your Firebase Cloud Messaging token and Sender ID</h3><div class=\"indent-h3\"><ul>\n<li>\n<p>Click the Gear icon at the top left and select Project settings.<br>\n<img src=\"/uploads/push-notif/3.png\" alt=\"3\" title=\"3\"></p>\n</li>\n<li>\n<p>Select the CLOUD MESSAGING tab.</p>\n</li>\n<li>\n<p>Make a note of the two values listed:<br>\nYou&#x2019;ll need your Server key, also known as the Google Server API key.<br>\nYou&#x2019;ll need your Sender ID, also known as the Google Project Number, later as well.<br>\n<img src=\"/uploads/push-notif/4.png\" alt=\"4\" title=\"4\"><br>\n<strong>SERVER KEY: AAAAZrAi7r4:APA91bEjeLzjlqsDaym0Y_kVas-2WBlqrO0hfUQLajbg2xUF2SDBqFDBknE2aU_ZYruN8GYRur23cidmYkCDMUEiq9rSimRqHy9_UHPvY5uoBgSB7ZaojA16E6qOLxnyHrzc_Wg8rx (email: vrferrer.halcyondigital)</strong><br>\n<strong>SENDER ID: 441041743550 (email: vrferrer.halcyondigital)</strong></p>\n</li>\n</ul></div></div>\n\n\n\n<h2 id=\"configure-one-signal-application\"><a class=\"toc-anchor nc-icon-outline location_bookmark-add internal-link\" href=\"#configure-one-signal-application\" aria-hidden=\"true\"></a> Configure OneSignal application</h2><div class=\"indent-h2\"><p>We will use OneSignal to send push notifications. Visit OneSignal and create an account if you haven&#x2019;t already.</p><h3 id=\"configure-one-signal-android-platform-settings\"><a class=\"toc-anchor nc-icon-outline location_bookmark-add internal-link\" href=\"#configure-one-signal-android-platform-settings\" aria-hidden=\"true\"></a> Configure OneSignal Android platform settings.</h3><div class=\"indent-h3\"><ul>\n<li>\n<p>After login to One Signal, click on Add new app.</p>\n</li>\n<li>\n<p>Type a name for your application in the appeared pop up. Here, we use &#x201C;AppseedPushNotifications&#x201D; as an App Name.<br>\n<img src=\"/uploads/push-notif/5.png\" alt=\"5\" title=\"5\"></p>\n</li>\n<li>\n<p>Select the platform that you want to configure with OneSignal push notifications and click NEXT. For this tutorial, select Google Android (GCM).<br>\n<img src=\"/uploads/push-notif/6.png\" alt=\"6\" title=\"6\"></p>\n</li>\n</ul><p>Next, enter your Google Server API Key and Google Project Number and click SAVE. These are the details you got from the Firebase console in the previous step.<br>\n<img src=\"/uploads/push-notif/7.png\" alt=\"7\" title=\"7\"></p><p>Then, select the target SDK for your app. In our case, we are making an Ionic app so select, PhoneGap, Cordova, Ionic, Intel XDK and click NEXT.<br>\n<img src=\"/uploads/push-notif/8.png\" alt=\"8\" title=\"8\"></p><p>As a final step, take a note of the OneSignal App ID, as we will use it in our application later.<br>\n<img src=\"/uploads/push-notif/9.png\" alt=\"9\" title=\"9\"><br>\n(You can&#x2019;t click done unless there is one subscriber user)</p></div></div>\n\n\n\n\n\n\n<h1 id=\"one-signal-implementation\"><a class=\"toc-anchor nc-icon-outline location_bookmark-add internal-link\" href=\"#one-signal-implementation\" aria-hidden=\"true\"></a> OneSignal Implementation</h1>\n<p>After setup, you need to update keys and ids located on <em>providers/globals.ts</em></p>\n<pre class=\"hljs\"><code>restApiKey= <span class=\"hljs-string\">&apos;OTAyNDg0NWMtODEwYy00YmFkLWFkNjMtY2I0OGVlYzczZDU3&apos;</span>\noneSignalAppId = <span class=\"hljs-string\">&apos;2b9a43f4-8003-4ff4-802b-1ca4b3deef50&apos;</span>\nsenderId = <span class=\"hljs-string\">&apos;441041743550&apos;</span>\n</code></pre>\n<h1 id=\"send-push-notification\"><a class=\"toc-anchor nc-icon-outline location_bookmark-add internal-link\" href=\"#send-push-notification\" aria-hidden=\"true\"></a> Send Push Notification</h1>\n<p>There are two ways to send push notification on One Signal:</p>\n<h2 id=\"post-request\"><a class=\"toc-anchor nc-icon-outline location_bookmark-add internal-link\" href=\"#post-request\" aria-hidden=\"true\"></a> POST request</h2><div class=\"indent-h2\"><pre class=\"hljs\"><code>\n<span class=\"hljs-keyword\">import</span> { GlobalsProvider } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&apos;../../../providers/globals&apos;</span>;\n<span class=\"hljs-keyword\">constructor</span>(<span class=\"hljs-params\"> <span class=\"hljs-keyword\">public</span> globals: GlobalsProvider </span>) { }\n\nsendPushNotif() {\n  <span class=\"hljs-keyword\">this</span>.http.post(<span class=\"hljs-string\">&apos;https://onesignal.com/api/v1/notifications&apos;</span>,\n  {\n    app_id: <span class=\"hljs-keyword\">this</span>.globals.oneSignalAppId,\n    contents: { en: <span class=\"hljs-string\">&apos;Test Push Notif&apos;</span> },\n    included_segments: [<span class=\"hljs-string\">&apos;All&apos;</span>] <span class=\"hljs-comment\">//this notif will be sent to all the subscribed users</span>\n  },\n  {\n    headers: <span class=\"hljs-keyword\">new</span> HttpHeaders({\n      <span class=\"hljs-string\">&apos;Authorization&apos;</span>: <span class=\"hljs-string\">`Basic <span class=\"hljs-subst\">${this.globals.restApiKey}</span>`</span>,\n      <span class=\"hljs-string\">&apos;Content-Type&apos;</span>: <span class=\"hljs-string\">&apos;application/json&apos;</span>\n    })\n  }).toPromise().then(<span class=\"hljs-function\"><span class=\"hljs-params\">data</span> =&gt;</span> {\n    <span class=\"hljs-built_in\">console</span>.log(data)\n  }).catch(<span class=\"hljs-function\"><span class=\"hljs-params\">err</span> =&gt;</span> {\n    <span class=\"hljs-built_in\">console</span>.log(err)\n  })\n}\n</code></pre></div>\n\n<h2 id=\"one-signal-dashboard\"><a class=\"toc-anchor nc-icon-outline location_bookmark-add internal-link\" href=\"#one-signal-dashboard\" aria-hidden=\"true\"></a> OneSignal Dashboard</h2><div class=\"indent-h2\"><p>After running the application visit OneSignal <a href=\"https://onesignal.com/\" class=\"external-link\">https://onesignal.com/</a> . Select your application. Here you can see the number of users who have been registered for receiving push notifications.</p><p>Go ahead and send a message. To do this, navigate to OneSignal dashboard and click <strong>MESSAGES</strong>.</p><p>Click <strong>NEW PUSH</strong>.</p><p>Type the preferred title and message and click <strong>CONFIRM</strong> in the bottom of the screen.</p><p>Finally, from the appeared pop up click <strong>SEND MESSAGE</strong>.</p><p>Moments later, a push notification will be received in your device.</p></div>\n\n\n\n\n\n\n<h1 id=\"back-end-integration\"><a class=\"toc-anchor nc-icon-outline location_bookmark-add internal-link\" href=\"#back-end-integration\" aria-hidden=\"true\"></a> Back-end Integration</h1>\n<p>Both back end and front end can send push notification by accessing the OneSignal API <a href=\"https://documentation.onesignal.com/reference#create-notification\" class=\"external-link\">https://documentation.onesignal.com/reference#create-notification</a></p>\n<p>Give the OneSignal App ID and Rest API Key to your backend developer because it is needed on the body and headers of the POST request</p>\n</body></html>","meta":{"title":"Push Notification","subtitle":"A quick summary of Push Notification","path":"providers/push-notif"},"tree":[{"content":"OneSignal SetUp","anchor":"one-signal-set-up","nodes":[{"content":"Generate a Google Server API Key (SERVER KEY)","anchor":"generate-a-google-server-api-key-server-key","nodes":[]},{"content":"Configure OneSignal application","anchor":"configure-one-signal-application","nodes":[]}]},{"content":"OneSignal Implementation","anchor":"one-signal-implementation","nodes":[]},{"content":"Send Push Notification","anchor":"send-push-notification","nodes":[{"content":"POST request","anchor":"post-request","nodes":[]},{"content":"OneSignal Dashboard","anchor":"one-signal-dashboard","nodes":[]}]},{"content":"Back-end Integration","anchor":"back-end-integration","nodes":[]}],"parent":{"path":"providers","title":"Providers","subtitle":"A quick summary of Providers"}}